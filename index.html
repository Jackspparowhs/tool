<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Maps by PirateRuler.com</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè¥‚Äç‚ò†Ô∏è</text></svg>">
</head>
<body>
    <!-- Top Bar - Fixed for Mobile -->
    <div class="top-bar">
        <div class="top-bar-left">
            <button class="hamburger-menu" id="sidebarToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <div class="logo">
                <i class="fas fa-map-marked-alt"></i>
                <span>Maps</span>
                <small>by PirateRuler.com</small>
            </div>
        </div>
        
        <div class="search-container">
            <div class="search-box">
                <div class="search-input-wrapper">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" id="searchInput" placeholder="Search places...">
                    <button class="clear-search" id="clearSearch">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>
            <div class="search-suggestions" id="searchSuggestions"></div>
        </div>

        <div class="top-bar-right">
            <button class="top-bar-btn" id="currentLocationBtn" title="Your location">
                <i class="fas fa-location-arrow"></i>
            </button>
            <button class="top-bar-btn" id="fullscreenBtn" title="Fullscreen">
                <i class="fas fa-expand"></i>
            </button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Sidebar - Mobile Fixed -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header-mobile">
                <button class="close-sidebar" id="closeSidebar">
                    <i class="fas fa-times"></i>
                </button>
                <div class="logo">
                    <i class="fas fa-map-marked-alt"></i>
                    <span>Maps</span>
                </div>
            </div>
            
            <div class="sidebar-content">
                <!-- Directions Section -->
                <div class="sidebar-section">
                    <div class="section-header">
                        <h3><i class="fas fa-route"></i> Directions</h3>
                        <button class="section-toggle" id="directionsToggle">
                            <i class="fas fa-chevron-up"></i>
                        </button>
                    </div>
                    <div class="directions-panel" id="directionsPanel">
                        <div class="directions-inputs">
                            <div class="input-group">
                                <i class="fas fa-dot-circle start-icon"></i>
                                <input type="text" id="startPoint" placeholder="Start location">
                                <button class="input-clear" id="clearStart">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="input-group">
                                <i class="fas fa-map-marker-alt end-icon"></i>
                                <input type="text" id="endPoint" placeholder="Destination">
                                <button class="input-clear" id="clearEnd">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="travel-modes">
                                <button class="travel-mode active" data-mode="driving">
                                    <i class="fas fa-car"></i>
                                </button>
                                <button class="travel-mode" data-mode="walking">
                                    <i class="fas fa-walking"></i>
                                </button>
                                <button class="travel-mode" data-mode="cycling">
                                    <i class="fas fa-bicycle"></i>
                                </button>
                                <button class="travel-mode" data-mode="transit">
                                    <i class="fas fa-bus"></i>
                                </button>
                            </div>
                            <button id="getDirections" class="directions-btn">
                                <i class="fas fa-route"></i> Get Directions
                            </button>
                        </div>
                        <div id="directionsResults" class="directions-results"></div>
                    </div>
                </div>

                <!-- Map Layers Section -->
                <div class="sidebar-section">
                    <div class="section-header">
                        <h3><i class="fas fa-layer-group"></i> Map Type</h3>
                        <button class="section-toggle" id="layersToggle">
                            <i class="fas fa-chevron-up"></i>
                        </button>
                    </div>
                    <div class="layers-panel" id="layersPanel">
                        <div class="map-types">
                            <div class="map-type-option active" data-type="street">
                                <div class="map-type-preview street-preview"></div>
                                <span>Default</span>
                            </div>
                            <div class="map-type-option" data-type="satellite">
                                <div class="map-type-preview satellite-preview"></div>
                                <span>Satellite</span>
                            </div>
                            <div class="map-type-option" data-type="terrain">
                                <div class="map-type-preview terrain-preview"></div>
                                <span>Terrain</span>
                            </div>
                        </div>
                        <div class="layer-options">
                            <label class="checkbox-option">
                                <input type="checkbox" id="trafficLayer">
                                <span class="checkmark"></span>
                                Traffic
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" id="transitLayer">
                                <span class="checkmark"></span>
                                Transit
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" id="bikeLayer">
                                <span class="checkmark"></span>
                                Bicycling
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Places Section -->
                <div class="sidebar-section">
                    <div class="section-header">
                        <h3><i class="fas fa-place-of-worship"></i> Nearby</h3>
                        <button class="section-toggle" id="placesToggle">
                            <i class="fas fa-chevron-up"></i>
                        </button>
                    </div>
                    <div class="places-panel" id="placesPanel">
                        <div class="place-categories">
                            <button class="place-category" data-category="restaurant">
                                <i class="fas fa-utensils"></i>
                                <span>Food</span>
                            </button>
                            <button class="place-category" data-category="gas_station">
                                <i class="fas fa-gas-pump"></i>
                                <span>Gas</span>
                            </button>
                            <button class="place-category" data-category="hospital">
                                <i class="fas fa-hospital"></i>
                                <span>Hospital</span>
                            </button>
                            <button class="place-category" data-category="bank">
                                <i class="fas fa-university"></i>
                                <span>Bank</span>
                            </button>
                            <button class="place-category" data-category="shopping_mall">
                                <i class="fas fa-shopping-cart"></i>
                                <span>Shop</span>
                            </button>
                            <button class="place-category" data-category="park">
                                <i class="fas fa-tree"></i>
                                <span>Park</span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Recent Searches -->
                <div class="sidebar-section">
                    <div class="section-header">
                        <h3><i class="fas fa-history"></i> Recent</h3>
                        <button class="section-toggle" id="recentToggle">
                            <i class="fas fa-chevron-up"></i>
                        </button>
                    </div>
                    <div class="recent-panel" id="recentPanel">
                        <div class="recent-list" id="recentList">
                            <!-- Recent searches will appear here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Map Container -->
        <div class="map-wrapper">
            <div id="map"></div>
            
            <!-- Map Controls - Mobile Optimized -->
            <div class="map-controls-container">
                <div class="map-controls">
                    <button class="map-control-btn zoom-in" id="zoomIn" title="Zoom in">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button class="map-control-btn zoom-out" id="zoomOut" title="Zoom out">
                        <i class="fas fa-minus"></i>
                    </button>
                </div>
                
                <div class="map-controls">
                    <button class="map-control-btn" id="currentLocationBtn2" title="My location">
                        <i class="fas fa-location-arrow"></i>
                    </button>
                </div>
            </div>

            <!-- Map Type Control -->
            <div class="map-type-control">
                <button class="map-type-btn" id="mapTypeBtn">
                    <span id="mapTypeText">Map</span>
                </button>
            </div>

            <!-- Scale and Coordinates -->
            <div class="map-info-bar">
                <div id="coordinates" class="coordinate-display"></div>
            </div>

            <!-- Loading Indicator -->
            <div class="loading-overlay" id="loadingOverlay">
                <div class="loading-spinner">
                    <div class="spinner"></div>
                    <span>Loading...</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobileOverlay"></div>

    <!-- Scripts -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>
    <script src="script.js"></script>
</body>
</html>
