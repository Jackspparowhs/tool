<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Calculator By PirateRuler.com ‚Äî Modern Calculator Suite</title>
<meta name="description" content="Calculator By PirateRuler.com ‚Äî modern suite of calculators: basic math, BMI, age, GST, SIP, mortgage, tip and discount. Private and fast." />
<meta property="og:title" content="Calculator by PirateRuler.com" />
<meta property="og:description" content="All-in-one modern calculator suite. Private, fast, and works offline." />
<meta property="og:image" content="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Crect width='400' height='400' fill='%23000'/%3E%3Ctext x='50%25' y='50%25' font-family='Inter' font-weight='800' font-size='200' text-anchor='middle' dominant-baseline='middle' fill='white'%3EPR%3C/text%3E%3C/svg%3E" />
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='64' height='64'%3E%3Crect rx='14' width='64' height='64' fill='%23000'/%3E%3Ctext x='50%25' y='50%25' font-family='Inter,Arial,sans-serif' font-weight='800' font-size='26' text-anchor='middle' alignment-baseline='central' fill='white'%3EPR%3C/text%3E%3C/svg%3E">
<style>
  :root{
    --bg:#ffffff; --card:#ffffff; --muted:#555555; --text:#000000;
    --border:#000000; --accent:#000000; --key-bg:#f5f5f5;
  }
  html.dark {
    --bg:#121212; --card:#1e1e1e; --muted:#aaaaaa; --text:#ffffff;
    --border:#ffffff; --accent:#ffffff; --key-bg:#2a2a2a;
  }
  
  *{box-sizing:border-box}
  body{background:var(--bg); font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial; color:var(--text); margin:0; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; transition:background 0.3s, color 0.3s;}
  a{color:inherit;text-decoration:none}
  .container{max-width:1280px;margin:14px auto;padding:18px;}
  
  header.header{display:flex; align-items:center; justify-content:space-between; gap:12px; padding:14px; border-radius:0; background:var(--card); border-bottom:2px solid var(--border);}
  .brand{display:flex; align-items:center; gap:12px;}
  .logo{width:60px;height:60px;border-radius:0;display:flex;align-items:center;justify-content:center;font-weight:800; background:var(--accent); color:var(--bg); font-size:20px; flex-shrink:0;}
  .brand-title .title-strong{font-size:22px;font-weight:900;margin:0}
  .brand-title .by{font-size:12px;color:var(--muted); margin-top:3px}
  .header-actions{display:flex; gap:10px; align-items:center;}
  .btn{padding:9px 12px;border-radius:0;border:2px solid var(--border); cursor:pointer; font-weight:700; background:var(--bg); color:var(--text); transition:all 0.2s;}
  .btn:hover{background:var(--accent); color:var(--bg);}
  .hamb{width:46px;height:46px;display:flex;align-items:center;justify-content:center;cursor:pointer; border:2px solid var(--border); font-weight:bold;}
  
  .hero{margin-top:18px; padding:28px; border:2px solid var(--border); background:var(--card); transition:background 0.3s;}
  @media(min-width:1100px){.hero{padding:36px 48px;}.hero .big{font-size:42px;}.brand-title .title-strong{font-size:24px;}}
  .hero .big{font-size:34px;font-weight:900;margin:0;text-align:center}
  .hero .small{text-align:center;color:var(--muted);margin-top:8px; max-width:960px;margin-left:auto;margin-right:auto}
  .tabs{display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin-top:18px}
  .tab{padding:10px 16px; border:2px solid var(--border); cursor:pointer; color:var(--muted); font-weight:700; background:var(--bg); transition:all 0.2s;}
  .tab.active{background:var(--accent); color:var(--bg); font-weight:900;}
  
  .grid{display:grid; grid-template-columns:2fr 1fr; gap:18px; margin-top:12px; align-items:start;}
  @media(max-width:980px){.grid{grid-template-columns:1fr}}
  .card{background:var(--card); border:2px solid var(--border); padding:18px; animation:cardIn .42s both}
  @keyframes cardIn{from{transform:translateY(8px);opacity:0}to{transform:none;opacity:1}}
  .card h2{margin:0 0 8px 0;font-size:18px; font-weight:900;}
  .hint{color:var(--muted); font-size:13px; margin-bottom:10px}
  
  input[type="text"], input[type="number"], input[type="date"], select{width:100%; padding:12px; border:2px solid var(--border); font-size:15px; background:var(--bg); color:var(--text); transition:background 0.3s, color 0.3s;}
  .row{display:flex; gap:10px}
  .primary{background:var(--accent); color:var(--bg); padding:9px 14px; border:2px solid var(--border); font-weight:800; cursor:pointer; transition:all 0.2s;}
  .ghost{background:var(--bg); color:var(--text); border:2px solid var(--border); padding:9px 12px; cursor:pointer; transition:all 0.2s;}
  .ghost:hover{background:var(--accent); color:var(--bg);}
  .result{margin-top:12px; font-weight:900; color:var(--text); border-top:2px solid var(--border); padding-top:8px;}
  
  .key-grid{display:grid; grid-template-columns:repeat(4,1fr); gap:9px; margin-top:12px;}
  .key{padding:14px; border:2px solid var(--border); font-weight:700; cursor:pointer; text-align:center; background:var(--key-bg); color:var(--text); transition:all 0.2s;}
  .key:hover{background:var(--accent); color:var(--bg);}
  .key.op{font-weight:900;}
  .key.eq{background:var(--accent); color:var(--bg); font-weight:900;}
  
  aside{align-self:start; position:relative;}
  .feature-panel{background:var(--card); border:2px solid var(--border); padding:12px;}
  @media(min-width:981px){.feature-panel{position:sticky; top:18px; max-height:calc(100vh - 36px); overflow:auto;}}
  .panel-title{font-weight:900; margin:6px 6px 12px 6px;}
  .features{display:grid; grid-template-columns:1fr 1fr; gap:12px;}
  @media(max-width:700px){.features{grid-template-columns:1fr;}}
  .feature{display:flex; gap:14px; align-items:center; padding:16px; border:2px solid var(--border); background:var(--card); min-height:110px;}
  .f-icon{width:56px;height:56px;display:flex;align-items:center;justify-content:center; font-weight:800; color:var(--bg); background:var(--accent); flex-shrink:0;}
  .f-title{font-weight:800}
  .f-desc{color:var(--muted); font-size:13px}
  
  .useful-tips{margin-top:20px; padding:16px; border:2px solid var(--border); background:var(--card);}
  .useful-tips h3{margin:0 0 10px 0; font-weight:900;}
  .useful-tips ul{margin:0; padding-left:20px;}
  .useful-tips li{margin:6px 0; color:var(--muted);}
  
  footer{margin-top:16px; padding:16px; border:2px solid var(--border); background:var(--card); text-align:center;}
  .visit{padding:12px 20px; display:inline-block; background:var(--accent); color:var(--bg); font-weight:800; text-decoration:none; border:2px solid var(--border);}
  .muted{color:var(--muted)}
  .spacer{height:8px}
  
  /* Sidebar */
  .sidebar{position:fixed; top:0; right:0; height:100vh; width:360px; max-width:94vw; transform:translateX(120%); transition:transform .28s cubic-bezier(.2,.9,.3,1); z-index:90; background:var(--card); border-left:2px solid var(--border); padding:20px; overflow:auto;}
  .sidebar.open{transform:translateX(0);}
  .close{display:flex; justify-content:flex-end;}
  .nav-list{margin-top:10px; display:flex; flex-direction:column; gap:12px}
  .nav-list a{display:block; padding:14px; border:2px solid var(--border); background:var(--bg); color:var(--text); font-weight:600; transition:all 0.2s;}
  .nav-list a:hover{background:var(--accent); color:var(--bg);}
  .backup{margin-top:18px; color:var(--muted); font-size:13px; border-top:1px solid var(--border); padding-top:12px;}
</style>
</head>
<body>
<div class="container">

  <!-- Header -->
  <header class="header" role="banner" aria-label="Site header">
    <div class="brand">
      <a href="index.html" aria-label="Home" style="display:flex; align-items:center; gap:12px">
        <div class="logo" aria-hidden="true">PR</div>
        <div class="brand-title">
          <div class="title-strong">Calculator</div>
          <div class="by">by PirateRuler.com</div>
        </div>
      </a>
    </div>

    <!-- REMOVED: navigation links from header -->

    <div class="header-actions" role="navigation" aria-label="Header controls">
      <button class="btn ghost" id="themeBtn" title="Toggle dark mode">üåô Dark</button>
      <div class="hamb" id="hambBtn" title="Open menu" aria-haspopup="true" aria-controls="sidebar">‚ò∞</div>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero" aria-labelledby="heroTitle">
    <h1 id="heroTitle" class="big">All-in-one Modern Calculator Suite</h1>
    <p class="small">Fast, privacy-first calculators: basic math, BMI, age, GST, SIP, mortgage, tip and discount ‚Äî simple and reliable. (Currency tools live separately on PirateRuler currency site.)</p>

    <div class="tabs" role="tablist">
      <button class="tab active" data-target="basic" role="tab">Basic</button>
      <button class="tab" data-target="age" role="tab">Age</button>
      <button class="tab" data-target="bmi" role="tab">BMI</button>
      <button class="tab" data-target="gst" role="tab">GST</button>
      <button class="tab" data-target="sip" role="tab">SIP</button>
      <button class="tab" data-target="mortgage" role="tab">Mortgage</button>
      <button class="tab" data-target="tip" role="tab">Tip</button>
      <button class="tab" data-target="discount" role="tab">Discount</button>
    </div>
  </section>

  <!-- MAIN GRID -->
  <main class="grid" role="main">
    <div>
      <!-- All calculator sections remain unchanged -->
      <section id="basic" class="card">
        <h2>Basic Calculator</h2>
        <div class="hint">Use keypad or type on your keyboard. Supports + - √ó √∑ ( ) and decimals.</div>
        <input id="basicDisplay" type="text" value="0" />
        <div class="key-grid">
          <div class="key" onclick="basicAdd('7')">7</div>
          <div class="key" onclick="basicAdd('8')">8</div>
          <div class="key" onclick="basicAdd('9')">9</div>
          <div class="key op" onclick="basicAdd('/')">√∑</div>
          <div class="key" onclick="basicAdd('4')">4</div>
          <div class="key" onclick="basicAdd('5')">5</div>
          <div class="key" onclick="basicAdd('6')">6</div>
          <div class="key op" onclick="basicAdd('*')">√ó</div>
          <div class="key" onclick="basicAdd('1')">1</div>
          <div class="key" onclick="basicAdd('2')">2</div>
          <div class="key" onclick="basicAdd('3')">3</div>
          <div class="key op" onclick="basicAdd('-')">‚àí</div>
          <div class="key" onclick="basicAdd('0')">0</div>
          <div class="key" onclick="basicAdd('.')">.</div>
          <div class="key eq" onclick="basicEval()">=</div>
          <div class="key op" onclick="basicAdd('+')">+</div>
          <div class="key" style="grid-column:span 2" onclick="basicClear()">Clear</div>
          <div class="key" style="grid-column:span 2" onclick="basicBack()">Back</div>
        </div>
        <div id="basicRes" class="result" aria-live="polite"></div>
      </section>

      <section id="age" class="card" hidden>
        <h2>Age Calculator</h2>
        <div class="hint">Calculate years, months and days from birthday.</div>
        <input id="dob" type="date" />
        <div class="row">
          <button class="primary" onclick="computeAge()">Calculate</button>
          <button class="ghost" onclick="document.getElementById('dob').value=''; setText('ageRes','')">Clear</button>
        </div>
        <div id="ageRes" class="result"></div>
      </section>

      <section id="bmi" class="card" hidden>
        <h2>BMI Calculator</h2>
        <div class="hint">Enter weight (kg) and height (m).</div>
        <div class="row">
          <input id="bmiW" type="number" placeholder="Weight (kg)" />
          <input id="bmiH" type="number" placeholder="Height (m)" step="0.01" />
        </div>
        <div class="row">
          <button class="primary" onclick="computeBMI()">Calculate</button>
          <button class="ghost" onclick="document.getElementById('bmiW').value=''; document.getElementById('bmiH').value=''; setText('bmiRes','')">Clear</button>
        </div>
        <div id="bmiRes" class="result"></div>
      </section>

      <section id="gst" class="card" hidden>
        <h2>GST Calculator</h2>
        <div class="hint">Compute total with GST percent.</div>
        <div class="row">
          <input id="gstAmt" type="number" placeholder="Amount" />
          <input id="gstRate" type="number" placeholder="GST %" />
        </div>
        <div class="row">
          <button class="primary" onclick="computeGST()">Calculate</button>
          <button class="ghost" onclick="document.getElementById('gstAmt').value='';document.getElementById('gstRate').value=''; setText('gstRes','')">Clear</button>
        </div>
        <div id="gstRes" class="result"></div>
      </section>

      <section id="sip" class="card" hidden>
        <h2>SIP Calculator</h2>
        <div class="hint">Monthly invest, annual rate (%), years.</div>
        <div class="row">
          <input id="sipM" type="number" placeholder="Monthly invest" />
          <input id="sipR" type="number" placeholder="Rate (%)" />
        </div>
        <div class="row">
          <input id="sipY" type="number" placeholder="Years" /><div></div>
        </div>
        <div class="row">
          <button class="primary" onclick="computeSIP()">Calculate</button>
          <button class="ghost" onclick="document.getElementById('sipM').value='';document.getElementById('sipR').value='';document.getElementById('sipY').value=''; setText('sipRes','')">Clear</button>
        </div>
        <div id="sipRes" class="result"></div>
      </section>

      <section id="mortgage" class="card" hidden>
        <h2>Mortgage Calculator</h2>
        <div class="hint">Loan amount, annual interest (%) and years.</div>
        <div class="row">
          <input id="mortA" type="number" placeholder="Loan amount" />
          <input id="mortR" type="number" placeholder="Annual rate (%)" />
        </div>
        <div class="row">
          <input id="mortY" type="number" placeholder="Years" /><div></div>
        </div>
        <div class="row">
          <button class="primary" onclick="computeMort()">Calculate</button>
          <button class="ghost" onclick="document.getElementById('mortA').value='';document.getElementById('mortR').value='';document.getElementById('mortY').value=''; setText('mortRes','')">Clear</button>
        </div>
        <div id="mortRes" class="result"></div>
      </section>

      <section id="tip" class="card" hidden>
        <h2>Tip Calculator</h2>
        <div class="hint">Add tip percentage to bill.</div>
        <div class="row">
          <input id="tipBill" type="number" placeholder="Bill amount" />
          <input id="tipPct" type="number" placeholder="Tip %" />
        </div>
        <div class="row">
          <button class="primary" onclick="computeTip()">Calculate</button>
          <button class="ghost" onclick="document.getElementById('tipBill').value='';document.getElementById('tipPct').value=''; setText('tipRes','')">Clear</button>
        </div>
        <div id="tipRes" class="result"></div>
      </section>

      <section id="discount" class="card" hidden>
        <h2>Discount Calculator</h2>
        <div class="hint">Final price after percentage discount.</div>
        <div class="row">
          <input id="discPrice" type="number" placeholder="Original price" />
          <input id="discPct" type="number" placeholder="Discount %" />
        </div>
        <div class="row">
          <button class="primary" onclick="computeDisc()">Calculate</button>
          <button class="ghost" onclick="document.getElementById('discPrice').value='';document.getElementById('discPct').value=''; setText('discRes','')">Clear</button>
        </div>
        <div id="discRes" class="result"></div>
      </section>
    </div>

    <aside>
      <div class="feature-panel">
        <div class="panel-title">Why PirateRuler tools?</div>
        <div class="features">
          <div class="feature">
            <div class="f-icon">‚ö°</div>
            <div>
              <div class="f-title">Lightning fast</div>
              <div class="f-desc">Optimized code, minimal dependencies ‚Äî instant results on mobile & desktop.</div>
            </div>
          </div>
          <div class="feature">
            <div class="f-icon">üîí</div>
            <div>
              <div class="f-title">Private by design</div>
              <div class="f-desc">No personal data is stored ‚Äî everything runs in your browser.</div>
            </div>
          </div>
          <div class="feature">
            <div class="f-icon">üß∞</div>
            <div>
              <div class="f-title">All tools in one</div>
              <div class="f-desc">Basic math, BMI, age, GST, SIP, mortgage, tip, discount ‚Äî ready to use.</div>
            </div>
          </div>
          <div class="feature">
            <div class="f-icon">üåê</div>
            <div>
              <div class="f-title">Backup resources</div>
              <div class="f-desc">If this site is offline, visit PirateRuler.com for backups & resources.</div>
            </div>
          </div>
          <div class="feature">
            <div class="f-icon">üì±</div>
            <div>
              <div class="f-title">Mobile-first</div>
              <div class="f-desc">Looks great on phones and adapts cleanly to desktops.</div>
            </div>
          </div>
          <div class="feature">
            <div class="f-icon">üîß</div>
            <div>
              <div class="f-title">Developer friendly</div>
              <div class="f-desc">Lightweight, forkable, transparent ‚Äî easy to customize.</div>
            </div>
          </div>
        </div>
        
        <!-- USEFUL TIPS -->
        <div class="useful-tips">
          <h3>üí° Pro Tips</h3>
          <ul>
            <li><strong>Basic:</strong> Use keyboard shortcuts - numbers, +, -, *, /, Enter to calculate</li>
            <li><strong>Age:</strong> Calculate exact age for legal documents or milestones</li>
            <li><strong>BMI:</strong> Divide height in cm by 100 to convert to meters</li>
            <li><strong>GST:</strong> Enter negative percentage to remove GST from total</li>
            <li><strong>SIP:</strong> Results show compound returns with monthly contributions</li>
            <li><strong>Mortgage:</strong> Compare EMIs by adjusting loan years</li>
            <li><strong>Tip:</strong> 15-20% is standard for good service</li>
            <li><strong>Discount:</strong> Stack discounts by running multiple calculations</li>
          </ul>
        </div>
        
        <div class="spacer"></div>
        <div class="feature" style="min-height:unset; align-items:flex-start; padding:14px">
          <div class="f-icon">PR</div>
          <div>
            <div class="f-title">Calculator By PirateRuler.com</div>
            <div class="f-desc" style="margin-top:6px; display:flex; gap:10px; flex-wrap:wrap;">
              <a class="btn" href="https://pirateruler.com/post/about.html" target="_blank" rel="noopener noreferrer">About ‚Äî PirateRuler</a>
              <a class="btn" href="https://pirateruler.com/post/privacy.html" target="_blank" rel="noopener noreferrer">Privacy Policy</a>
              <a class="btn" href="https://pirateruler.com/post/contact.html" target="_blank" rel="noopener noreferrer">Contact</a>
              <a class="btn" href="https://pirateruler.com/post/terms.html" target="_blank" rel="noopener noreferrer">Terms & Service</a>
            </div>
          </div>
        </div>
      </div>
    </aside>
  </main>

  <!-- Footer -->
  <footer>
    <a class="visit" href="https://pirateruler.com" target="_blank" rel="noopener noreferrer">Visit PirateRuler.com</a>
    <div style="height:12px"></div>
    <small class="muted">¬© <span id="year"></span> Calculator By PirateRuler.com ‚Äî Backup & resources: pirateruler.com</small>
    <!-- REMOVED: navigation links from footer -->
  </footer>
</div>

<!-- Sidebar -->
<aside id="sidebar" class="sidebar" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="close"><button class="ghost" id="closeSidebar">Close</button></div>
  <h3>PirateRuler Links</h3>
  <p class="muted">Quick links & backup resources</p>
  <nav class="nav-list">
    <a href="https://pirateruler.com/post/about.html" target="_blank" rel="noopener noreferrer">About ‚Äî PirateRuler</a>
    <a href="https://pirateruler.com/post/privacy.html" target="_blank" rel="noopener noreferrer">Privacy Policy</a>
    <a href="https://pirateruler.com/post/contact.html" target="_blank" rel="noopener noreferrer">Contact</a>
    <a href="https://pirateruler.com/post/terms.html" target="_blank" rel="noopener noreferrer">Terms & Service</a>
  </nav>
  <div class="backup">
    If this site is offline you can visit PirateRuler for backups & resources:<br><a href="https://pirateruler.com" target="_blank">pirateruler.com</a>
  </div>
</aside>

<script>
  // Year in footer
  document.getElementById('year').textContent = new Date().getFullYear();

  // Theme Toggle (Light/Dark only)
  const themeBtn = document.getElementById('themeBtn');
  function toggleTheme() {
    const isDark = document.documentElement.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
    themeBtn.textContent = isDark ? '‚òÄÔ∏è Light' : 'üåô Dark';
    themeBtn.setAttribute('aria-label', isDark ? 'Switch to light mode' : 'Switch to dark mode');
  }
  // Load saved theme
  const savedTheme = localStorage.getItem('theme');
  if (savedTheme === 'dark') {
    document.documentElement.classList.add('dark');
    themeBtn.textContent = '‚òÄÔ∏è Light';
  }
  themeBtn.addEventListener('click', toggleTheme);

  // Sidebar Controls
  const sidebar = document.getElementById('sidebar');
  const hambBtn = document.getElementById('hambBtn');
  const closeSidebar = document.getElementById('closeSidebar');
  function openSidebar(){ 
    sidebar.classList.add('open'); 
    sidebar.setAttribute('aria-hidden','false'); 
    closeSidebar.focus(); 
  }
  function closeSB(){ 
    sidebar.classList.remove('open'); 
    sidebar.setAttribute('aria-hidden','true'); 
  }
  hambBtn.addEventListener('click', openSidebar);
  closeSidebar.addEventListener('click', closeSB);
  document.addEventListener('keydown', e => { if(e.key === 'Escape') closeSB(); });
  document.addEventListener('click', e => {
    if(sidebar.classList.contains('open') && !sidebar.contains(e.target) && !hambBtn.contains(e.target)) closeSB();
  });

  // Tabs
  const tabs = Array.from(document.querySelectorAll('.tab'));
  function showTab(id){
    document.querySelectorAll('main section.card').forEach(s => s.hidden = true);
    const el = document.getElementById(id);
    if(el) el.hidden = false;
    tabs.forEach(t => t.classList.toggle('active', t.dataset.target === id));
    setTimeout(()=>{ 
      const rect = el && el.getBoundingClientRect(); 
      if(rect) window.scrollTo({top: window.scrollY + rect.top - 80, behavior:'smooth'}); 
    }, 70);
  }
  tabs.forEach(t => t.addEventListener('click', ()=> showTab(t.dataset.target)));
  showTab('basic');

  // Basic Calculator Functions
  let expr = '';
  const display = document.getElementById('basicDisplay');
  function setText(id,val){ const el=document.getElementById(id); if(el) el.textContent = val; }
  function basicAdd(v){ 
    if(display.value === '0' && v !== '.' ) display.value = ''; 
    expr = display.value + v; 
    display.value = expr; 
  }
  function basicClear(){ expr=''; display.value='0'; setText('basicRes',''); }
  function basicBack(){ expr = display.value.slice(0,-1); display.value = expr || '0'; }
  function basicEval(){
    if(!display.value) return;
    const safe = display.value.replace(/[^0-9+\-*/().% ]/g,'');
    try { 
      const res = Function('"use strict";return ('+safe+')')(); 
      setText('basicRes', isFinite(res) ? 'Result: ' + res : 'Invalid'); 
      display.value = String(res); 
    }
    catch(e){ setText('basicRes','Invalid expression'); }
  }
  document.addEventListener('keydown', e => {
    if(document.activeElement && document.activeElement.tagName === 'INPUT') return;
    if(/^[0-9+\-*/().%]$/.test(e.key)) basicAdd(e.key);
    if(e.key === 'Enter') basicEval();
    if(e.key === 'Backspace') basicBack();
  });

  // Calculator Functions
  function computeAge(){
    const v = document.getElementById('dob').value; 
    if(!v) return setText('ageRes','Please select birthday');
    const dob = new Date(v); 
    if(isNaN(dob)) return setText('ageRes','Invalid date');
    const now = new Date(); 
    let y = now.getFullYear()-dob.getFullYear(); 
    let m = now.getMonth()-dob.getMonth(); 
    let d = now.getDate()-dob.getDate();
    if(d<0){ m--; d += new Date(now.getFullYear(), now.getMonth(), 0).getDate(); } 
    if(m<0){ y--; m += 12; }
    setText('ageRes', `${y} years, ${m} months, ${d} days`);
  }
  function computeBMI(){ 
    const w=parseFloat(document.getElementById('bmiW').value), 
          h=parseFloat(document.getElementById('bmiH').value);
    if(!w||!h) return setText('bmiRes','Enter valid weight and height'); 
    const bmi=w/(h*h); 
    setText('bmiRes','BMI: '+bmi.toFixed(2)); 
  }
  function computeGST(){ 
    const a=parseFloat(document.getElementById('gstAmt').value), 
          r=parseFloat(document.getElementById('gstRate').value);
    if(isNaN(a)||isNaN(r)) return setText('gstRes','Enter amount & rate'); 
    const t=a+(a*r/100); 
    setText('gstRes','Total: '+t.toFixed(2)); 
  }
  function computeSIP(){ 
    const m=parseFloat(document.getElementById('sipM').value), 
          annual=parseFloat(document.getElementById('sipR').value), 
          years=parseFloat(document.getElementById('sipY').value);
    if(isNaN(m)||isNaN(annual)||isNaN(years)) return setText('sipRes','Enter monthly, rate and years'); 
    const r=annual/100/12, n=years*12; 
    const fv=m*((Math.pow(1+r,n)-1)/r)*(1+r); 
    setText('sipRes','Future: '+fv.toFixed(2)); 
  }
  function computeMort(){ 
    const a=parseFloat(document.getElementById('mortA').value), 
          annual=parseFloat(document.getElementById('mortR').value), 
          years=parseFloat(document.getElementById('mortY').value);
    if(isNaN(a)||isNaN(annual)||isNaN(years)) return setText('mortRes','Enter valid values'); 
    const r=annual/100/12, n=years*12; 
    const emi=a*r*(Math.pow(1+r,n)/(Math.pow(1+r,n)-1)); 
    setText('mortRes','Monthly EMI: '+emi.toFixed(2)); 
  }
  function computeTip(){ 
    const b=parseFloat(document.getElementById('tipBill').value), 
          p=parseFloat(document.getElementById('tipPct').value);
    if(isNaN(b)||isNaN(p)) return setText('tipRes','Enter bill & tip%'); 
    const tot=b+(b*p/100); 
    setText('tipRes','Total: '+tot.toFixed(2)); 
  }
  function computeDisc(){ 
    const p=parseFloat(document.getElementById('discPrice').value), 
          d=parseFloat(document.getElementById('discPct').value);
    if(isNaN(p)||isNaN(d)) return setText('discRes','Enter price & discount'); 
    const f=p-(p*d/100); 
    setText('discRes','Final: '+f.toFixed(2)); 
  }
</script>
</body>
</html>
